IF OBJECT_ID(N'PotionShop.StoreItem') IS NULL
BEGIN
	CREATE TABLE PotionShop.StoreItem
	(
		StoreItemID INT NOT NULL IDENTITY(1, 1),
		ItemID INT NOT NULL,
		StoreID INT NOT NULL,
		Quantity INT NOT NULL DEFAULT(0), --Dont know if we need default
		UnitListPrice DECIMAL(5,2) NOT NULL,

		CONSTRAINT PK_PotionShop_StoreItem_StoreItemID PRIMARY KEY CLUSTERED
		(
			StoreItemID ASC
		),

		CONSTRAINT [FK_PotionShop_StoreItem_PotionShop_Item] FOREIGN KEY(ItemID) --Might want to change its name but idk
		REFERENCES PotionShop.Item(ItemID) ON DELETE CASCADE, --If ItemID is delete in the item table, will automatically delete any rows referencing it

		CONSTRAINT [FK_PotionShop_StoreItem_PotionShop_Store] FOREIGN KEY(StoreID)
		REFERENCES PotionShop.Store(StoreID)

		
	);
END;

/****************************
 * Foreign Keys Constraints
 ****************************/

 --ItemID FK
 IF NOT EXISTS
	(
		SELECT *
		FROM sys.foreign_keys fk
		WHERE fk.parent_object_id = OBJECT_ID(N'PotionShop.StoreItem')     --This table
         AND fk.referenced_object_id = OBJECT_ID(N'PotionShop.Item')	  --Table it references
         AND fk.[name] = N'FK_PotionShop_StoreItem_PotionShop_Item'	      --The name
	)
BEGIN
	ALTER TABLE PotionShop.StoreItem		--This table
	ADD CONSTRAINT [FK_PotionShop_StoreItem_PotionShop_Item] FOREIGN KEY	--This table
	(
		ItemID
	)
	REFERENCES PotionShop.Item			--TABLE IT REFERENCES
	(
		ItemID
	);
END;

--StoreID FK
 IF NOT EXISTS
	(
		SELECT *
		FROM sys.foreign_keys fk
		WHERE fk.parent_object_id = OBJECT_ID(N'PotionShop.StoreItem')     --This table
         AND fk.referenced_object_id = OBJECT_ID(N'PotionShop.Store')	  --Table it references
         AND fk.[name] = N'FK_PotionShop_StoreItem_PotionShop_Store'	      --The name
	)
BEGIN
	ALTER TABLE PotionShop.StoreItem		--This table
	ADD CONSTRAINT [FK_PotionShop_StoreItem_PotionShop_Store] FOREIGN KEY	--This table
	(
		StoreID
	)
	REFERENCES PotionShop.Store			--TABLE IT REFERENCES
	(
		StoreID
	);
END;

INSERT PotionShop.StoreItem(ItemID, StoreID, Quantity, UnitListPrice)
VALUES
(23, 5, 2, 494.13),
(24, 21, 10, 976.63),
(13, 20, 9, 499.6),
(3, 24, 10, 827.08),
(39, 18, 9, 782.42),
(3, 17, 4, 116.52),
(16, 10, 3, 676.96),
(30, 19, 8, 209.18),
(7, 13, 10, 408.08),
(45, 7, 2, 757.42),
(38, 6, 1, 326.64),
(29, 16, 7, 57.79),
(48, 15, 1, 688.08),
(38, 12, 7, 682.38),
(26, 8, 9, 112.18),
(2, 13, 5, 536.01),
(26, 16, 5, 324.93),
(7, 24, 6, 266.35),
(43, 1, 5, 878.12),
(6, 22, 7, 380.94),
(6, 12, 6, 529.57),
(3, 18, 10, 916.66),
(6, 1, 7, 928.62),
(45, 19, 6, 847.34),
(22, 6, 1, 523.42),
(43, 18, 8, 282.9),
(30, 19, 5, 16.88),
(32, 17, 2, 918.78),
(19, 8, 10, 828.66),
(46, 18, 5, 817.27),
(21, 20, 8, 937.42),
(19, 1, 6, 150.12),
(2, 5, 5, 178.55),
(35, 3, 8, 673.54),
(8, 2, 5, 242.07),
(35, 7, 10, 547.73),
(5, 6, 10, 374.95),
(32, 2, 2, 322.72),
(48, 5, 10, 445.93),
(2, 23, 2, 171.59),
(49, 16, 10, 549.53),
(41, 7, 7, 30.8),
(43, 15, 10, 645.1),
(3, 3, 10, 343.51),
(22, 11, 9, 663.89),
(11, 5, 1, 941.66),
(28, 10, 1, 39.74),
(37, 2, 4, 149.75),
(44, 21, 5, 617.33),
(39, 25, 9, 61.99),
(32, 22, 5, 647.62),
(11, 25, 9, 923.34),
(8, 10, 9, 368.16),
(26, 3, 5, 412.5),
(16, 3, 2, 472.77),
(34, 11, 7, 525.92),
(3, 4, 1, 298.37),
(36, 12, 7, 146.86),
(45, 21, 7, 429.52),
(46, 16, 1, 398.79),
(7, 25, 8, 226.71),
(15, 20, 3, 825.35),
(35, 9, 4, 730.04),
(45, 21, 10, 404.42),
(31, 20, 7, 232.75),
(33, 16, 9, 183.58),
(33, 10, 10, 653.55),
(16, 14, 3, 316.34),
(39, 12, 5, 29.69),
(3, 21, 10, 484.93),
(10, 19, 9, 862.78),
(38, 10, 4, 608.98),
(14, 15, 6, 986.65),
(48, 18, 3, 553.82),
(15, 14, 8, 613.37),
(13, 8, 6, 600.62),
(31, 10, 10, 549.9),
(49, 2, 6, 854.07),
(19, 7, 8, 393.47),
(11, 10, 2, 698.35),
(6, 11, 8, 158.17),
(28, 3, 6, 114.57),
(4, 14, 3, 441.73),
(47, 5, 8, 544.15),
(26, 14, 1, 319.28),
(19, 20, 4, 384.65),
(35, 12, 1, 81.87),
(43, 15, 8, 49.44),
(45, 4, 9, 667.03),
(12, 16, 9, 597.85),
(8, 21, 5, 872.53),
(38, 5, 3, 240.4),
(3, 1, 6, 99.61),
(35, 11, 10, 184.4),
(29, 5, 1, 280.49),
(33, 17, 1, 865.47),
(46, 7, 3, 83.94),
(43, 12, 10, 83.89),
(34, 12, 8, 882.36),
(21, 4, 7, 95.97),
(29, 8, 2, 886.8),
(14, 2, 8, 431.69),
(14, 1, 3, 61.93),
(33, 11, 7, 346.02),
(20, 24, 8, 720.93),
(29, 13, 7, 697.07),
(45, 12, 2, 426.02),
(12, 6, 6, 738.57),
(18, 12, 5, 136.69),
(26, 12, 7, 33.89),
(45, 5, 3, 40.55),
(24, 14, 4, 768.22),
(49, 19, 6, 970.67),
(31, 5, 10, 323.78),
(39, 25, 1, 624.04),
(4, 20, 9, 645.56),
(15, 4, 9, 802.58),
(16, 8, 7, 516.83),
(49, 5, 3, 72.2),
(34, 18, 1, 603.58),
(47, 16, 7, 929.03),
(9, 15, 7, 478.72),
(1, 9, 5, 716.38),
(33, 23, 2, 378.8),
(16, 22, 3, 278.83),
(30, 2, 5, 551.09),
(13, 9, 5, 864.15),
(22, 22, 8, 982.53),
(37, 5, 9, 612.42),
(14, 16, 2, 117.43),
(46, 4, 1, 154.09),
(30, 25, 9, 4.51),
(10, 9, 7, 86.61),
(14, 7, 4, 845.61),
(35, 22, 2, 161.88),
(25, 19, 9, 150),
(34, 14, 6, 200.48),
(20, 22, 5, 67.92),
(16, 13, 6, 746.18),
(10, 22, 9, 499.71),
(41, 19, 7, 367.39),
(41, 17, 2, 876.52),
(4, 12, 8, 890.12),
(16, 10, 1, 648.55),
(7, 7, 6, 89.94),
(42, 16, 6, 249.51),
(29, 17, 1, 685.81),
(29, 20, 10, 716.47),
(42, 23, 3, 630.51),
(13, 19, 2, 739.41),
(32, 17, 7, 258.46),
(6, 6, 7, 203.46),
(27, 8, 9, 127.43),
(41, 13, 7, 278.95),
(9, 19, 1, 380.54),
(22, 12, 9, 543.66),
(35, 18, 5, 116.47),
(36, 21, 9, 855.89),
(33, 18, 4, 233.76),
(12, 10, 6, 712.38),
(19, 15, 10, 156.68),
(42, 10, 2, 526.21),
(36, 15, 2, 22.44),
(45, 14, 10, 467.56),
(11, 1, 1, 856.7),
(24, 13, 10, 875.39),
(19, 7, 7, 241.71),
(36, 1, 10, 919.41),
(17, 9, 1, 111.65),
(15, 24, 4, 777.61),
(16, 16, 3, 532.26),
(9, 19, 2, 334.18),
(43, 6, 9, 764.29),
(33, 18, 10, 360.31),
(46, 17, 7, 398.24),
(37, 25, 6, 898.61),
(7, 11, 7, 861.78),
(37, 25, 6, 131.45),
(45, 17, 8, 46.67),
(40, 21, 5, 541.63),
(9, 10, 6, 433.03),
(41, 25, 7, 647.44),
(2, 4, 10, 541.3),
(5, 25, 9, 588.21),
(45, 16, 9, 543.44),
(23, 24, 2, 794.74),
(7, 2, 1, 680.33),
(14, 19, 9, 726.7),
(3, 17, 7, 518.79),
(35, 24, 6, 231.58),
(18, 3, 3, 455.41),
(14, 22, 5, 272.36),
(49, 19, 7, 23.63),
(24, 19, 7, 750.77),
(26, 9, 7, 878.7),
(24, 13, 7, 8.5),
(18, 24, 3, 217.41),
(4, 13, 6, 775.49),
(1, 8, 3, 31.51),
(23, 13, 4, 329.79),
(7, 7, 10, 447.94),
(29, 3, 4, 651.85),
(26, 19, 2, 378.32),
(8, 16, 6, 212.43),
(15, 3, 1, 179.17),
(19, 21, 6, 118.83),
(11, 25, 1, 296.64),
(40, 8, 3, 337.47),
(39, 8, 10, 160.33),
(22, 6, 9, 628.63),
(2, 19, 4, 338.45),
(6, 25, 9, 756.1),
(7, 23, 3, 924.86),
(49, 21, 9, 292.39),
(46, 6, 6, 655.82),
(49, 11, 5, 959.92),
(20, 6, 10, 442.98),
(35, 5, 1, 863.81),
(31, 8, 5, 684.16),
(29, 16, 1, 70.76),
(35, 15, 9, 316.56),
(13, 9, 3, 551.77),
(38, 8, 5, 151.65),
(34, 18, 2, 196.61),
(46, 8, 9, 884.12),
(30, 9, 10, 825.56),
(43, 17, 3, 24.71),
(34, 5, 7, 431.79),
(34, 4, 8, 57.6),
(43, 1, 5, 383.79),
(36, 11, 2, 87.4),
(19, 15, 5, 34.57),
(17, 8, 8, 951.31),
(6, 7, 2, 825.56),
(14, 13, 9, 625),
(31, 9, 10, 10.42),
(4, 15, 1, 687.05),
(5, 10, 8, 44.16),
(20, 17, 1, 68.8),
(10, 9, 4, 314.4),
(38, 24, 7, 214.75),
(9, 11, 5, 839.05),
(41, 5, 9, 971.72),
(37, 4, 7, 820.17),
(37, 6, 3, 138.97),
(36, 22, 1, 844.92),
(26, 14, 10, 424.58),
(18, 1, 9, 176.66),
(3, 10, 10, 840.46),
(8, 22, 2, 340.05),
(41, 23, 10, 536.18),
(17, 18, 6, 132.96),
(19, 6, 8, 895.25),
(28, 25, 3, 35.75),
(3, 24, 5, 48.34),
(37, 10, 3, 234.82),
(32, 9, 8, 605.16),
(24, 3, 4, 180.81),
(39, 18, 2, 620.1),
(18, 18, 1, 559.77),
(1, 5, 9, 212.19),
(31, 15, 1, 488.27),
(37, 8, 5, 156.76),
(17, 11, 1, 643.35),
(45, 9, 10, 225.57),
(35, 23, 7, 139.91),
(22, 11, 4, 538.92),
(37, 4, 1, 407.69),
(38, 24, 3, 608.97),
(3, 17, 9, 283.85),
(34, 10, 10, 731.5),
(6, 18, 4, 260.62),
(16, 15, 7, 892.52),
(39, 21, 6, 849.87),
(6, 21, 1, 359.3),
(15, 6, 1, 509.61),
(10, 7, 1, 519.33),
(10, 20, 4, 150.83),
(39, 22, 7, 121.49),
(25, 7, 7, 639.09),
(20, 23, 5, 625.12),
(27, 23, 7, 651.74),
(27, 15, 8, 596.53),
(36, 8, 1, 877.89),
(29, 9, 1, 389.22),
(26, 5, 7, 565.42),
(49, 7, 3, 752.23),
(28, 12, 8, 692.39),
(22, 12, 4, 556.08),
(21, 16, 1, 79.38),
(49, 20, 5, 149.55),
(1, 12, 9, 494.16),
(14, 4, 3, 854.21),
(45, 17, 5, 540.41),
(6, 4, 9, 294),
(38, 5, 9, 916.33),
(16, 3, 6, 315.26),
(36, 4, 5, 975.78),
(7, 16, 7, 769.49),
(39, 21, 10, 136.27),
(24, 4, 9, 729.35),
(1, 10, 9, 598.74),
(24, 4, 9, 479.18),
(5, 4, 2, 298.34),
(27, 23, 1, 86.62),
(41, 21, 4, 619.23),
(28, 11, 1, 147.41),
(29, 21, 8, 61.46),
(9, 22, 1, 678.28),
(35, 9, 10, 380.1),
(48, 6, 3, 639.98),
(17, 17, 5, 948.34),
(5, 25, 9, 281.86),
(29, 25, 5, 726.34),
(33, 2, 8, 18.55),
(13, 14, 2, 133.08),
(23, 18, 9, 660.71),
(8, 16, 5, 379.15),
(50, 8, 1, 817.04),
(24, 24, 6, 643.33),
(27, 15, 7, 964.01),
(24, 12, 9, 457.99),
(10, 4, 7, 70.6),
(27, 1, 8, 455.03),
(14, 14, 1, 438.84),
(27, 14, 6, 387.24),
(38, 6, 4, 866.38),
(37, 17, 9, 706.58),
(11, 23, 9, 800.64),
(43, 3, 1, 421.53),
(19, 5, 8, 812.65),
(17, 20, 10, 614.49),
(44, 20, 1, 848.95),
(19, 3, 1, 382.56),
(6, 6, 3, 559.32),
(3, 24, 8, 112.03),
(29, 19, 2, 273.7),
(29, 11, 1, 62.38),
(11, 14, 2, 349.65),
(7, 17, 6, 373),
(6, 20, 1, 387.71),
(45, 3, 5, 698.74),
(23, 23, 1, 259.94),
(25, 17, 7, 873.23),
(10, 10, 5, 581.74),
(14, 7, 7, 603.5),
(36, 13, 5, 80.78),
(33, 19, 5, 364.15),
(25, 2, 6, 132.09),
(31, 17, 1, 394.55),
(27, 14, 4, 728.24),
(30, 12, 2, 206.25),
(48, 10, 3, 451.38),
(36, 22, 4, 606.6),
(16, 6, 1, 891.5),
(44, 3, 3, 261.38),
(31, 3, 9, 726.86),
(36, 3, 8, 583.19),
(32, 5, 5, 777.77),
(42, 11, 1, 630.61),
(9, 17, 6, 901.25),
(40, 7, 7, 921.72),
(44, 1, 1, 560.54),
(11, 11, 8, 137.63),
(27, 6, 1, 57.08),
(42, 20, 9, 638.42),
(45, 5, 10, 911.45),
(40, 23, 8, 563),
(6, 18, 5, 110.15),
(9, 18, 7, 922.75),
(32, 13, 6, 957.16),
(30, 23, 6, 137.48),
(7, 23, 4, 596.41),
(39, 22, 3, 942.93),
(30, 15, 1, 960.79),
(5, 10, 4, 268.32),
(18, 8, 2, 471.72),
(6, 12, 5, 913.33),
(44, 16, 9, 605.93),
(9, 17, 6, 329.01),
(10, 4, 8, 327.66),
(6, 6, 10, 340.48),
(3, 21, 1, 570.07),
(27, 21, 6, 673.44),
(13, 6, 7, 604.74),
(3, 23, 1, 93.46),
(38, 12, 10, 104.08),
(35, 16, 4, 475.84),
(16, 3, 6, 647.1),
(32, 5, 10, 932.41),
(30, 11, 2, 578.18),
(1, 20, 5, 755.23),
(43, 25, 10, 824.86),
(16, 11, 5, 990.48),
(34, 24, 8, 546.77),
(49, 19, 5, 527.75),
(5, 25, 3, 315.02),
(43, 4, 8, 691.32),
(48, 6, 6, 255.04),
(36, 25, 1, 765.21),
(29, 19, 3, 590.85),
(26, 24, 4, 550.81),
(47, 7, 5, 306.77),
(7, 20, 2, 8.85),
(49, 25, 6, 243.92),
(11, 13, 10, 852.99),
(3, 11, 8, 993.94),
(24, 12, 5, 333.22),
(22, 25, 3, 869.08),
(22, 18, 2, 575.99),
(5, 23, 7, 539.88),
(25, 9, 8, 679.44),
(20, 4, 1, 843.41),
(44, 3, 6, 194.7),
(49, 3, 1, 730.3),
(37, 25, 7, 733.22),
(49, 20, 6, 40.68),
(10, 11, 4, 885.57),
(2, 2, 5, 567.13),
(24, 21, 9, 811.4),
(8, 17, 7, 315.41),
(32, 20, 10, 722.83),
(30, 9, 7, 944.88),
(18, 24, 6, 749.15),
(16, 24, 8, 592.2),
(21, 16, 7, 382.59),
(8, 24, 8, 389.85),
(34, 23, 7, 11.65),
(13, 18, 9, 800.47),
(21, 14, 9, 926.28),
(43, 17, 3, 185.12),
(25, 23, 8, 395.79),
(4, 24, 8, 590.44),
(5, 17, 2, 79.88),
(16, 25, 4, 738.48),
(12, 16, 7, 299.11),
(12, 13, 9, 414.75),
(9, 19, 6, 864.78),
(47, 10, 7, 136.27),
(43, 1, 1, 52.12),
(6, 9, 9, 785.52),
(44, 18, 7, 942.92),
(49, 13, 6, 122.66),
(11, 1, 10, 454.14),
(43, 22, 2, 636.88),
(38, 23, 5, 79.86),
(3, 16, 7, 371.11),
(3, 16, 9, 655.24),
(4, 24, 5, 695.92),
(28, 6, 2, 97.79),
(47, 2, 4, 74.46),
(18, 13, 9, 731.11),
(49, 17, 8, 856.02),
(37, 19, 4, 306.78),
(40, 15, 3, 236.79),
(10, 15, 5, 930.13),
(37, 19, 7, 208.99),
(7, 11, 8, 281.3),
(30, 9, 2, 351.63),
(30, 25, 3, 558.2),
(7, 23, 1, 208.81),
(27, 21, 9, 502.9),
(21, 21, 9, 553.22),
(21, 20, 3, 771.28),
(42, 21, 4, 232.87),
(35, 22, 1, 540.52),
(38, 17, 1, 714.53),
(13, 3, 9, 459.21),
(8, 7, 6, 166.01),
(21, 9, 3, 728.14),
(28, 25, 8, 391.79),
(31, 21, 5, 70.24),
(18, 17, 7, 816.75),
(20, 18, 6, 5.12),
(2, 7, 4, 477.89),
(42, 5, 7, 384.92),
(1, 1, 7, 688.8),
(38, 23, 3, 13.19),
(43, 1, 10, 562.05),
(15, 3, 10, 975.69),
(4, 13, 4, 486.01),
(42, 22, 4, 298.1),
(28, 22, 3, 807.62),
(13, 24, 6, 377.51),
(39, 15, 4, 233.56),
(26, 18, 4, 542.76),
(14, 14, 1, 396.86),
(39, 25, 10, 326.9),
(25, 2, 1, 384.58),
(13, 10, 3, 697.06),
(41, 16, 6, 402.96),
(46, 11, 6, 273.6),
(49, 20, 9, 735.67),
(40, 13, 5, 175.41),
(41, 8, 6, 804.73),
(23, 21, 5, 360.22),
(20, 18, 3, 798.78),
(21, 21, 10, 338.17),
(43, 15, 4, 691.89),
(4, 7, 9, 775.57)